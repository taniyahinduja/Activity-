EXPLANATION

1. Calculate the amount of whater accumalated above each bar
2. For this, find the tallest bars on either sides of a selected bar
3. That will be the highest level of water that can be accumalated above each bar
4. Subtract the height of the bar from that level
5. Add this to the result
6. Repeat the above steps from second bar to the second last bar